function commonInit(){addInputCss();copyNameToId()}function addInputCss(){$(".input_default").bind("focus",function(){$(this).removeClass("input_off");$(this).removeClass("input_out");$(this).removeClass("input_move");$(this).addClass("input_on")});$(".input_default").bind("blur",function(){$(this).removeClass("input_on");$(this).removeClass("input_out");$(this).removeClass("input_move");$(this).addClass("input_off")});$(".input_default").bind("mousemove",function(){$(this).removeClass("input_on");$(this).removeClass("input_out");$(this).removeClass("input_off");$(this).addClass("input_move")});$(".input_default").bind("mouseout",function(){$(this).removeClass("input_on");$(this).removeClass("input_move");$(this).removeClass("input_off");$(this).addClass("input_out")})}function copyNameToId(){$("input").each(function(){if(this.id==""){this.id=this.name}});$("select").each(function(){if(this.id==""){this.id=this.name}});$("textarea").each(function(){if(this.id==""){this.id=this.name}});$("form").each(function(){if(this.id==""){this.id=this.name}})}function blockUI(a){if(!a){a="正在处理，请稍候..."}$('<div class="datagrid-mask"></div>').css({display:"block",width:"100%",height:$(window).height()}).appendTo("body");$('<div class="datagrid-mask-msg"></div>').html(a).appendTo("body").css({display:"block",left:($(document.body).outerWidth(true)-190)/2,top:($(window).height()-45)/2})}function unblockUI(){$(".datagrid-mask-msg").remove();$(".datagrid-mask").remove()}function formToJson(c){var b={};var a=$(c).serializeArray();$.each(a,function(d,e){if(b[e.name]||b[e.name]==""){if(!b[e.name].push){b[e.name]=[b[e.name]]}b[e.name].push(e.value||"")}else{b[e.name]=e.value||""}});return b}function checkSelCheckItem(a,b){var c=$("#ds_list input[name="+a+"]").filter("input:checked");if(c.length==0){$.messager.alert("提示信息","请选择一条记录!");return}if(b>0&&c.length>b){$.messager.alert("提示信息","只允许选择"+b+"条记录!");return}return c}function ajaxCallBack(d,f,b,a){var e;try{e=jQuery.parseJSON(d)}catch(c){$.messager.alert("操作失败","异常如下："+d,"error");return false}if(e&&e.status){if(e.status=="success"){if(a){$.messager.alert("提示对话框",a)}if(b){b(e.data)}}else{$.messager.alert("操作失败","原因如下："+decodeURI(e.data),"error")}}}function ajaxCallBackNew(d,c,e,b,a){if(c){if(c=="success"){if(a){$.messager.alert("提示对话框",a)}if(b){b(d)}}else{$.messager.alert("操作失败","原因如下："+d,"error")}}}function easyuiForm(d,c,b,a){$(d).form({url:c,onSubmit:function(){var e=$(this).form("validate");if(e){blockUI()}return e},success:function(e){unblockUI();ajaxCallBack(e,"",b,a)}})}function easyuiFormNew(d,c,b,a){$(d).form({url:c,onSubmit:function(){var e=$(this).form("validate");if(e){blockUI()}return e},success:function(e){unblockUI();ajaxCallBackNew(e.data,e.status,"",b,a)}})}function easyuiFormSubmit(d,c,b,a){$(d).form("submit",{url:c,onSubmit:function(){var e=$(this).form("validate");if(e){blockUI()}return e},success:function(e){unblockUI();ajaxCallBack(e,"",b,a)}})}function easyuiFormSubmitNew(d,c,b,a){$(d).form("submit",{url:c,onSubmit:function(){var e=$(this).form("validate");if(e){blockUI()}return e},success:function(e){unblockUI();ajaxCallBackNew(e.data,e.status,"",b,a)}})}function StringToJSonObject(O){return eval("("+O+")")};
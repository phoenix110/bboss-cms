var bboss=function(){};bboss.pager={pagerevent:{},goTo:function(gotopageid,gopageerror_msg,containerid,selector,url,pages,maxPageItem,hasParam,sortKey,desc,id,formName,params,promotion){var regx=/\d+/g;var gotopage=document.getElementById(gotopageid);var goPage="NaN";if(gotopage.length){for(var i=0;i<gotopage.length;i++){var temp=gotopage[i].value;if(regx.test(temp)){goPage=temp}}}else{var temp=gotopage.value;if(regx.test(temp)){goPage=temp}}if(isNaN(goPage)||goPage.indexOf(".")!=-1){alert(gopageerror_msg);return}if(pages<goPage){goPage=pages}var offset=(goPage-1)*maxPageItem;var offset_key="";var desc_key="";var sort_key="";if(id){offset_key=id+".offset";desc_key=id+".desc";sort_key=id+".sortKey"}else{offset_key="pager.offset";desc_key="desc";sort_key="sortKey"}var forwardurl=url+(hasParam?"&":"?")+offset_key+"="+offset;if(sortKey){forwardurl=forwardurl+"&"+sort_key+"="+sortKey+"&"+desc_key+"="+desc}if(sortKey){params+=(hasParam?"&":"")+offset_key+"="+offset+"&"+sort_key+"="+sortKey+"&"+desc_key+"="+desc}else{params+=(hasParam?"&":"")+offset_key+"="+offset}var flag=false;var executeflag="false";if(containerid==null&&this.pagerevent.beforeload&&(typeof(eval(this.pagerevent.beforeload))=="function")){executeflag="true";try{flag=this.pagerevent.beforeload({gotopageid:gotopageid,gopageerror_msg:gopageerror_msg,containerid:containerid,selector:selector,url:url,pages:pages,maxPageItem:maxPageItem,hasParam:hasParam,sort_key:sortKey,desc_key:desc,id:id,formName:formName,params:params,promotion:promotion,goPage:goPage,offset_key:offset})}catch(e){try{flag=this.pagerevent.beforeload()}catch(e){alert(e)}}}if(formName&&flag){this.pageSubmit(formName,params,forwardurl,promotion,id,executeflag,flag)}else{if(!containerid){location.replace(forwardurl)}else{this.loadPageContent(forwardurl,containerid,selector)}}},pageSubmit:function(formName,params,forwardurl,promotion,id,executeflag,flag_){var paramsName="PAGE_QUERY_STRING";if(id){paramsName=id+".PAGE_QUERY_STRING"}var flag=flag_;if(this.pagerevent.beforeload&&(typeof(eval(this.pagerevent.beforeload))=="function")&&(executeflag==null||executeflag=="false")){try{flag=this.pagerevent.beforeload({formName:formName,params:params,promotion:promotion,id:id})}catch(e){try{flag=this.pagerevent.beforeload()}catch(e){alert(e)}}}if(promotion&&flag){if(!confirm("是否保存当前页面修改的数据？\r\n是，点击'确定'；否，点击'取消'.")){location.replace(forwardurl)}else{document.getElementById(paramsName).value=params;if(document.getElementById(formName).action&&document.getElementById(formName).action!=""){document.getElementById(formName).submit()}else{document.getElementById(formName).action=forwardurl;document.getElementById(formName).submit()}}}else{if(flag==0){document.getElementById(paramsName).value=params;if(document.getElementById(formName).action&&document.getElementById(formName).action!=""){document.getElementById(formName).submit()}else{document.getElementById(formName).action=forwardurl;document.getElementById(formName).submit()}}else{if(flag==1){location.replace(forwardurl)}else{document.getElementById(paramsName).value=params;if(document.getElementById(formName).action&&document.getElementById(formName).action!=""){document.getElementById(formName).submit()}else{document.getElementById(formName).action=forwardurl;document.getElementById(formName).submit()}}}}},___keydowngo:function(c,b){if(c.keyCode==13){var a=document.getElementById(b);document.getElementById(b).click()}return false},checkAll:function(c,e){var b=document.getElementsByName(c);var d=document.getElementsByName(e);if(b[0].checked==true){for(var a=0;a<d.length;a++){if(!d[a].disabled){d[a].checked=true}}}else{for(var a=0;a<d.length;a++){d[a].checked=false}}},checkOne:function(d,f){var c=document.getElementsByName(d);var e=document.getElementsByName(f);var a=true;for(var b=0;b<e.length;b++){if(!e[b].disabled){if(e[b].checked==false){a=false}}}if(a){c[0].checked=true}else{c[0].checked=false}},convertValue:function(b,c){if(c){var a=b.replace(/:/g,"\\:");a=a.replace(/\./g,"\\.");a=a.replace(/\//g,"\\/");a=a.replace(/\$/g,"\\$");a=a.replace(/\[/g,"\\[");a=a.replace(/\]/g,"\\]");a=a.replace(/#/g,"\\#");a=a.replace(/;/g,"\\;");a=a.replace(/&/g,"\\&");a=a.replace(/,/g,"\\,");a=a.replace(/\+/g,"\\+");a=a.replace(/\*/g,"\\*");a=a.replace(/~/g,"\\~");a=a.replace(/'/g,"\\'");a=a.replace(/!/g,"\\!");a=a.replace(/\^/g,"\\^");a=a.replace(/\(/g,"\\(");a=a.replace(/\)/g,"\\)");a=a.replace(/=/g,"\\=");a=a.replace(/>/g,"\\>");a=a.replace(/\|/g,"\\|");a=a.replace(/ /g,"\\ ");return a}else{return b}},loadPageContent:function(pageurl,containerid,selector){containerid=this.convertValue(containerid,true);pagerevent=this.pagerevent;setTable_grayCss=this.setTable_grayCss;var flag=true;if(pagerevent.beforeload&&(typeof(eval(pagerevent.beforeload))=="function")){try{flag=pagerevent.beforeload({pageurl:pageurl,containerid:containerid,selector:selector})}catch(e){try{flag=pagerevent.beforeload()}catch(e){alert(e)}}}if(flag===false){return}if(selector&&selector!=""){$("#"+containerid).load(pageurl+" #"+selector,function(){if($.parser){$.parser.parse("#"+containerid)}try{if(typeof(eval(loadjs))=="function"){loadjs()}}catch(e){}if(pagerevent.afterload&&(typeof(eval(pagerevent.afterload))=="function")){try{pagerevent.afterload({pageurl:pageurl,containerid:containerid,selector:selector})}catch(e){try{pagerevent.afterload()}catch(e){alert(e)}}}})}else{$("#"+containerid).load(pageurl,function(){try{setTable_grayCss()}catch(e){}if($.parser){$.parser.parse("#"+containerid)}try{if(typeof(eval(loadjs))=="function"){loadjs()}}catch(e){}if(pagerevent.afterload&&(typeof(eval(pagerevent.afterload))=="function")){try{pagerevent.afterload({pageurl:pageurl,containerid:containerid,selector:selector})}catch(e){try{pagerevent.afterload()}catch(e){alert(e)}}}})}},___parserParams:function(h){if(h==null){return null}var f=new Array();var d=h.split("&");if(d.length){var g,e,c;var a="{";for(var b=0;b<d.length;b++){g=d[b].indexOf("=");if(g==-1){continue}if(b>0){a+=","}a+="'"+d[b].substring(0,g)+"'";a+=":";a+="'"+d[b].substring(g+1)+"'"}a+="}"}else{var g=d.indexOf("=");if(g==-1){return null}a+="{'"+d.substring(0,g);a+="':";a+="'"+d.substring(g+1)+"'}"}return this._____parseObj(a)},_____parseObj:function(b){try{return(new Function("return "+b))()}catch(a){alert(a)}return null},__chagePageSize:function(f,c,h,b,a,g){if(f){var d=f.srcElement||f.target;var e=d.options[d.selectedIndex].value;this.cookiehandle(c,e,{path:"/",expires:100});if(g&&g!=""){this.loadPageContent(b,g,a)}else{location.replace(b)}}else{var d=window.event.srcElement;var e=d.options[d.selectedIndex].value;this.cookiehandle(c,e,{path:"/",expires:100});if(g&&g!=""){this.loadPageContent(b,g,a)}else{location.replace(b)}}},cookiehandle:function(b,j,m){if(typeof j!="undefined"){m=m||{};if(j===null){j="";m=$.extend({},m);m.expires=-1}var e="";if(m.expires&&(typeof m.expires=="number"||m.expires.toUTCString)){var f;if(typeof m.expires=="number"){f=new Date();f.setTime(f.getTime()+(m.expires*24*60*60*1000))}else{f=m.expires}e="; expires="+f.toUTCString()}var l=m.path?"; path="+(m.path):"";var g=m.domain?"; domain="+(m.domain):"";var a=m.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(j),e,l,g,a].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var h=0;h<k.length;h++){var c=jQuery.trim(k[h]);if(c.substring(0,b.length+1)==(b+"=")){d=decodeURIComponent(c.substring(b.length+1));break}}}return d}},setTable_grayCss:function(a){if(a==undefined||a==""){a=".table_gray"}$(a+" tbody tr:even").addClass("space_color");$(a+" tbody tr").hover(function(){$(this).addClass("highlight")},function(){$(this).removeClass("highlight")});$(a+" tbody tr").click(function(){if($(this).hasClass("selected")){$(this).removeClass("selected");$(this).find('input[type="checkbox"]').removeAttr("checked")}else{$(this).addClass("selected");$(this).find('input[type="checkbox"]').attr("checked","checked")}})}};var checkAll=bboss.pager.checkAll;var checkOne=bboss.pager.checkOne;